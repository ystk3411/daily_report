## 取り組んだ課題一覧
* 達人に学ぶDB設計
## 分かったこと
第5章　論理設計とパフォーマンス
* テーブル結合の操作は結合するテーブル、テーブルのレコードが増えるほど処理時間がかかる。
* 正規化と検索SQLは強いトレードオフの関係にあり、厳しい正規化はパフォーマンスの低下を招くが、非正規化すればデータ不整合が発生しやすくなる。
* 非正規化というのは切羽詰まった時に取る最終手段。
* 正規化による起こる２パターンの性能問題
  * サマリデータの冗長性排除によるパターン：集計結果などのサマリデータをテーブルに保持すると非正規化するが、検索結果を高速化できる。
  * 選択条件の冗長性とパフォーマンス：選択条件を冗長に保持すると正規形に違反するが、検索結果を高速化できる。
* 非正規化の３つのリスク
  * 非正規化は検索パフォーマンスは向上させるが更新のパフォーマンスを低下させる。
  * データのリアルタイム性（鮮度）を低下させる。
  * 後続の工程で設計変更すると、手戻りが大きい。

第6章　データベースとパフォーマンス
* インデックス
  * SQLチューニングとしてポピュラーな手段。以下がその理由。
    * アプリケーションのコードに影響を与えない。
    * テーブルのデータに影響を与えない。
    * 以上を理由を踏まえても性能改善の効果が大きい。
  * B-treeインデックス
    * インデックスにはいくつか種類があるが基本的に利用されるのはB-treeインデックス。
    * 場合によっては他のインデックスが優れている場面もあるが、平均点の高く汎用性に優れているところが長所にある。
    * どの列にB-treeインデックスを作ればいいかには以下のような指針が挙げられる。
      * 大規模なテーブルに対して作成する。しかし、データ量が少ない場合（目安としてレコード件数１万以下）は効果がない。
      * カーディナリティの高い列（一意の値の種類が多い列）に作成する。目安として全体レコードの5％程度に絞り込めること。また値が平均して分散しているのが望ましい。
      * SQL文でWHERE句の選択条件、または結合条件に使用されている列に作成する。
* 統計情報
  * 統計情報がSQLのアクセスパスを決める最大の要因であるため重要。
  * 統計情報の収集はデータが大きく更新された後、なるべく早く行うべき。また、作業には多くのリソースを消費するのでシステムの利用者が少ない夜間帯に行うのが原則。
  
    
    

## 次やること
*  達人に学ぶDB設計の続き
## 感じたこと
*  各章読み終わるたびに感じるが設計時点で考えることが多すぎる。
 
## 学習時間
今日：3.0h
合計：322.0h
